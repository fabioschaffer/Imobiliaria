<h3 class="text-center p-2">Imóveis</h3>

<!-- PESQUISA - header -->
<button id="btnCaracteristicasCollapse"
    class="btn btn-primary w-100 rounded-bottom-0 text-start sem-efeitos-de-hover mt-3" type="button"
    data-bs-toggle="collapse" data-bs-target="#collapseCaracteristicas" aria-controls="collapseCaracteristicas">
    Filtros
    <span class="float-end">
        <i class="bi bi-chevron-down"></i>
    </span>
</button>

<!-- PESQUISA - body -->
<div class="collapse show" id="collapseCaracteristicas">
    <div class="card card-body rounded-top-0">

        <form [formGroup]="filtrosForm">

            <div class="row">

                <!-- QUARTOS -->
                <div class="col-md-3 col-12">
                    <label>Quartos</label>
                    <input type="text" class="form-control text-end" formControlName="quartos" somenteNumeros>
                </div>

                <!-- VALOR INICIAL -->
                <div class="col-md-3 col-12">
                    <label>Valor Inicial</label>
                    <input type="text" class="form-control text-end" formControlName="valorInicial" duasDecimais>
                </div>

                <!-- VALOR FINAL -->
                <div class="col-md-3 col-12">
                    <label>Valor Final</label>
                    <input type="text" class="form-control text-end" formControlName="valorFinal" duasDecimais>
                </div>

                <!-- BOTÃO PESQUISAR -->
                <div class="col-md-3 col-12 text-end align-self-end">
                    <br>
                    <button type="button" class="btn btn-primary" (click)="carregarImoveis()">Pesquisar</button>
                </div>


            </div>
        </form>
    </div>
</div>


<h4 class="text-end pb-2 mt-3">
    <button type="button" class="btn btn-primary" (click)="Novo()">Novo</button>
</h4>

<div *ngIf="loading" class="text-center p-5">
    <div class="spinner-border text-secondary"> </div>
    <p>Carregando...</p>
</div>
<table *ngIf="!loading" class="table table-striped table-bordered table-hover">
    <thead>
        <tr>
            <th class="col">Código</th>
            <th scope="col">Quartos</th>
            <th scope="col">Vagas Garagem</th>
            <th scope="col">Valor</th>
            <th scope="col" class="text-center" style=" width: 150px;">Ações</th>
        </tr>
    </thead>

    <tbody class="table-group-divider">
        <tr *ngFor="let imovel of Imovel">
            <td>{{ imovel.id }}</td>
            <td>{{ imovel.quartos }}</td>
            <td>{{ imovel.vagasGaragem }}</td>
            <td>{{ imovel.valor }}</td>
            <td class="text-center">

                <!-- Ícone Editar -->
                <i class="bi bi-pencil-square text-primary fs-5 me-3" role="button" title="Editar"
                    (click)="Editar(imovel.id)">
                </i>

                <!-- Ícone Excluir -->
                <i class="bi bi-trash text-danger fs-5" role="button" title="Excluir" (click)="Excluir(imovel)">
                </i>

            </td>

        </tr>
    </tbody>

</table>
<app-paginacao *ngIf="!loading" [paginaAtual]="paginaAtual" [totalPaginas]="totalPaginas" [maximoPaginasVisiveis]="3"
    (pageChange)="onPageChange($event)">
</app-paginacao>