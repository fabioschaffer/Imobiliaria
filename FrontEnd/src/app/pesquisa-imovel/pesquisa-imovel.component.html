<div class="background-image">

    <div class="container containerCustom">

        <!-- BOTÃO LOGIN -->
        <!-- <button class="btn btn-primary" (click)="irParaLogin()">
            Login
        </button> -->

        <h2 class="text-center text-dark fw-bold text-shadow pt-5 pb-2 titulo">Encontre o imóvel ideal!</h2>

        <!-- PESQUISA - header -->
        <button id="btnCaracteristicasCollapse"
            class="btn btn-primary w-100 rounded-bottom-0 text-start sem-efeitos-de-hover mt-3" type="button"
            data-bs-toggle="collapse" data-bs-target="#collapseCaracteristicas" aria-controls="collapseCaracteristicas">
            Filtros
            <span class="float-end">
                <i class="bi bi-chevron-down"></i>
            </span>
        </button>

        <!-- PESQUISA - body -->
        <div class="collapse show" id="collapseCaracteristicas">
            <div class="card card-body rounded-top-0">

                <form [formGroup]="filtrosForm">

                    <div class="row">

                        <!-- QUARTOS -->
                        <div class="col-md-3 col-12">
                            <label>Quartos</label>
                            <input type="text" class="form-control text-end" formControlName="quartos" somenteNumeros>
                        </div>

                        <!-- VALOR INICIAL -->
                        <div class="col-md-3 col-12">
                            <label>Valor Inicial</label>
                            <input type="text" class="form-control text-end" formControlName="valorInicial"
                                duasDecimais>
                        </div>

                        <!-- VALOR FINAL -->
                        <div class="col-md-3 col-12">
                            <label>Valor Final</label>
                            <input type="text" class="form-control text-end" formControlName="valorFinal" duasDecimais>
                        </div>

                        <!-- BOTÃO PESQUISAR -->
                        <div class="col-md-3 col-12 text-end align-self-end">
                            <br>
                            <button type="button" class="btn btn-primary" (click)="carregarImoveis()">Pesquisar</button>
                        </div>

                    </div>
                </form>
            </div>
        </div>

        <div *ngIf="loading" class="text-center p-5">
            <div class="spinner-border text-secondary"> </div>
            <p>Carregando...</p>
        </div>
        <table *ngIf="!loading && pesquisaRealizada" class="table table-striped table-bordered table-hover mt-5">
            <thead>
                <tr>
                    <th class="col">Código</th>
                    <th scope="col">Quartos</th>
                    <th scope="col">Vagas Garagem</th>
                    <th scope="col">Valor</th>
                    <th scope="col" class="text-center" style=" width: 100px;">Ações</th>
                </tr>
            </thead>

            <tbody class="table-group-divider">
                <tr *ngFor="let imovel of Imovel">
                    <td>{{ imovel.id }}</td>
                    <td>{{ imovel.quartos }}</td>
                    <td>{{ imovel.vagasGaragem }}</td>
                    <td>{{ imovel.valor }}</td>
                    <td class="text-center">

                        <!-- Ícone Detalhes -->
                        <i class="bi bi-eye text-primary fs-5 me-3" role="button" title="Detalhes"
                            (click)="Editar(imovel.id)">
                        </i>

                    </td>

                </tr>
            </tbody>

        </table>
        <app-paginacao *ngIf="!loading && pesquisaRealizada" [paginaAtual]="paginaAtual" [totalPaginas]="totalPaginas"
            [maximoPaginasVisiveis]="3" (pageChange)="onPageChange($event)">
        </app-paginacao>
    </div>
</div>